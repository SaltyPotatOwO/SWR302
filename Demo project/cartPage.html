

<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Buy Page</title>
        <!-- Link Bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        <!-- Link Icons -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <!-- Link Icons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
              integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
              crossorigin="anonymous" referrerpolicy="no-referrer" />
        <!-- Link CSS -->
        <link rel="stylesheet" href="UI/css/style.css">
        <link rel="stylesheet" href="UI/css/styleInput.css"/>
        <link rel="stylesheet" href="UI/css/styleItemBox.css"/>
    </head>

    <body>
        
        
<!-- Navbar -->
<nav class="autohide navbar navbar-expand-lg" id="navbar">
    <div class="container-fluid">
        <!-- Navbar Logo -->
        <a class="navbar-brand col-lg-3" href="buyPage.html">
            <img src="UI/image/newLogo.png" alt="siteLogo" width="100px">
        </a>
        <!-- Navbar Toggler Button -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggler"
                aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Navbar Toggler -->
        <div class="collapse navbar-collapse col-lg-9" id="navbarToggler">
            <!-- Navbar Item Box -->
            <div class="navbar-item-box col-lg-8">
                <div class="row nopadding">
                    <!-- Trade Button -->
                    <div class="col-lg-2 navbar-item nopadding">
                        <a href="">
                            <i class="material-icons navbar-item-icon">compare_arrows</i>
                        </a>
                        <h5>Trade</h5>
                    </div>
                    <!-- Sell Button -->
                    <div class="col-lg-2 navbar-item nopadding">
                        <a href="sellPage.html">
                            <i class="material-icons navbar-item-icon">sell</i>
                        </a>
                        <h5>Sell</h5>
                    </div>
                    <!-- Buy Button -->
                    <div class="col-lg-2 navbar-item nopadding">
                        <a href="buyPage.html">
                            <i class="material-icons navbar-item-icon">shopping_cart</i>
                        </a>
                        <h5>Buy</h5>
                    </div>
                    <!-- Auction Button -->
                    <div class="col-lg-2 navbar-item nopadding">
                        <a href="auctionPage.html">
                            <i class="material-icons navbar-item-icon">gavel</i>
                        </a>
                        <h5>Auction</h5>
                    </div>
                </div>
            </div>
            <!-- Navbar User  -->
            
            <div class="col-lg-4 nopadding navbar-user">
                <div class="row nopadding">
                    <!-- User Notification -->
                    <div class="col-lg-3 navbar-user-notifi dropdown">
                          
                                    <!-- Dropdown toggler -->
                                    <a class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown"
                                       aria-expanded="false" onclick="getNotification()">
                                        <i class="material-icons navbar-item-icon">notifications</i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-end" id = "noti-list">
                                        <a class="dropdown-item" href="#">You have 0 new notification </a>
                                    </div>
                        
                    </div>
                    <!-- User Balance -->
                    <div class="col-lg-6 navbar-user-balance nopadding">
                          
                            <!-- Balance amount -->
                            <div class="navbar-user-balance-text">
                                <h5>Your balance</h5>
                                <h5>$ 10000.0</h5>
                            </div>
                            <!-- Topup button -->
                            <div class="navbar-user-balance-topup rounded-circle">
                                <i class="material-icons navbar-item-icon">add</i>
                            </div>
                        
                    </div>
                    <!-- User Profile -->
                    
                        
                            <div class="col-lg-3 navbar-user-profile dropdown">
                                <!-- Dropdown toggler -->
                                <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown"
                                        aria-expanded="false">
                                    <img class="img-fluid rounded-circle" src="UI/image/profile_pics/user_profile.jpg" alt=""style="width: 60px; height: 60px; object-fit: contain">
                                </button>
                                <!-- Dropdown menu -->
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a class="dropdown-item" href="userProfile.html">User Profile</a>
                                    <a class="dropdown-item" href="cartPage.html">View Your Cart</a>
                                    <div class="dropdown-divider"></div>
                                    <a id="logout" class="dropdown-item" href="#">Log out</a>
                                </div>
                            </div>
                        
                        
                    
                </div>
            </div>
        </div>
</nav>
            <script>
            function getNotification() {
            $.ajax({
                url: "/In_Game_Items_Trading/GetNotificationController",
                type: 'GET',
                data: {
                },
                success: function(data){
                    var list = document.getElementById("noti-list");
                    list.innerHTML = data;
                }
            });
    }
        </script>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js">
    </script>
        <!-- Main Content -->
        <div class="container-fluid">
            <h1 class="card-title mb-4" id="cart-size">Your Cart Item(s): 5 items!</h1>
            
            
            <div class="container-fluid w-75">
                <div class="row" id="sell-card-box">
                    
                        
                        <!-- Item Card -->
                        <div class="sell-card mb-3" id="sell-card">
                            <div class="row g-0">
                                <div class="col-md-2">
                                    <img src="UI/image/Desert Eagle_Mecha Industries.png" class="img-fluid rounded" alt="...">
                                </div>
                                <div class="col-md-6">
                                    <div class="card-body">
                                        <h5 class="card-title mb-2">Pistol | Desert Eagle Mecha Industries (Factory New)
                                        </h5>
                                        <p class="card-text mb-1">Selling price: 4000.0</p>
                                        <p class="card-text mb-1">Time Left: <p id="countdown0"></p></p>
                                          
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="row nopadding">
                                        <div class="mx-1 my-3">
                                            <form action="ProcessCartController" method="post" onsubmit="return confirm('Are you sure you want to buy only this item from cart? ')">
                                                <input type="text" name="cartId" value="1" hidden=""/>
                                                <button onclick="showGameAccInput(1)" type="submit" class="btn item-card-button ">
                                                    <h5 class="card-title ps-1">Buy</h5>
                                                </button>
                                                <input id="gameAccInput1" class="form-control hidden" type="text" name="gameAccountName" placeholder="Game account name ..." required>
                                            </form>
                                        </div>
                                        <div class="mx-1">
                                            <form action="DeleteCartController" method="post" onsubmit="return confirm('Are you sure you want to remove this item from cart? ')">
                                                <input type="text" name="id" value="1" hidden=""/>
                                                <button type="submit"  class="btn item-card-button red-button">
                                                    <h5 class="card-title ps-1">Remove</h5>
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    
                        
                        <!-- Item Card -->
                        <div class="sell-card mb-3" id="sell-card">
                            <div class="row g-0">
                                <div class="col-md-2">
                                    <img src="UI/image/Dual Berettas_Cobra Strike.png" class="img-fluid rounded" alt="...">
                                </div>
                                <div class="col-md-6">
                                    <div class="card-body">
                                        <h5 class="card-title mb-2">Pistol | Dual Berettas Cobra Strike (Factory New)
                                        </h5>
                                        <p class="card-text mb-1">Selling price: 5000.0</p>
                                        <p class="card-text mb-1">Time Left: <p id="countdown1"></p></p>
                                          
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="row nopadding">
                                        <div class="mx-1 my-3">
                                            <form action="ProcessCartController" method="post" onsubmit="return confirm('Are you sure you want to buy only this item from cart? ')">
                                                <input type="text" name="cartId" value="2" hidden=""/>
                                                <button onclick="showGameAccInput(2)" type="submit" class="btn item-card-button ">
                                                    <h5 class="card-title ps-1">Buy</h5>
                                                </button>
                                                <input id="gameAccInput2" class="form-control hidden" type="text" name="gameAccountName" placeholder="Game account name ..." required>
                                            </form>
                                        </div>
                                        <div class="mx-1">
                                            <form action="DeleteCartController" method="post" onsubmit="return confirm('Are you sure you want to remove this item from cart? ')">
                                                <input type="text" name="id" value="2" hidden=""/>
                                                <button type="submit"  class="btn item-card-button red-button">
                                                    <h5 class="card-title ps-1">Remove</h5>
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    
                        
                        <!-- Item Card -->
                        <div class="sell-card mb-3" id="sell-card">
                            <div class="row g-0">
                                <div class="col-md-2">
                                    <img src="UI/image/Five-SeveN_Nightshade.png" class="img-fluid rounded" alt="...">
                                </div>
                                <div class="col-md-6">
                                    <div class="card-body">
                                        <h5 class="card-title mb-2">Pistol | Five-SeveN Nightshade (Factory New)
                                        </h5>
                                        <p class="card-text mb-1">Selling price: 6000.0</p>
                                        <p class="card-text mb-1">Time Left: <p id="countdown2"></p></p>
                                          
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="row nopadding">
                                        <div class="mx-1 my-3">
                                            <form action="ProcessCartController" method="post" onsubmit="return confirm('Are you sure you want to buy only this item from cart? ')">
                                                <input type="text" name="cartId" value="3" hidden=""/>
                                                <button onclick="showGameAccInput(3)" type="submit" class="btn item-card-button ">
                                                    <h5 class="card-title ps-1">Buy</h5>
                                                </button>
                                                <input id="gameAccInput3" class="form-control hidden" type="text" name="gameAccountName" placeholder="Game account name ..." required>
                                            </form>
                                        </div>
                                        <div class="mx-1">
                                            <form action="DeleteCartController" method="post" onsubmit="return confirm('Are you sure you want to remove this item from cart? ')">
                                                <input type="text" name="id" value="3" hidden=""/>
                                                <button type="submit"  class="btn item-card-button red-button">
                                                    <h5 class="card-title ps-1">Remove</h5>
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    
                        
                        <!-- Item Card -->
                        <div class="sell-card mb-3" id="sell-card">
                            <div class="row g-0">
                                <div class="col-md-2">
                                    <img src="UI/image/Glock-18_Red Tire.png" class="img-fluid rounded" alt="...">
                                </div>
                                <div class="col-md-6">
                                    <div class="card-body">
                                        <h5 class="card-title mb-2">Pistol | Glock-18 Red Tire (Factory New)
                                        </h5>
                                        <p class="card-text mb-1">Selling price: 7000.0</p>
                                        <p class="card-text mb-1">Time Left: <p id="countdown3"></p></p>
                                          
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="row nopadding">
                                        <div class="mx-1 my-3">
                                            <form action="ProcessCartController" method="post" onsubmit="return confirm('Are you sure you want to buy only this item from cart? ')">
                                                <input type="text" name="cartId" value="4" hidden=""/>
                                                <button onclick="showGameAccInput(4)" type="submit" class="btn item-card-button ">
                                                    <h5 class="card-title ps-1">Buy</h5>
                                                </button>
                                                <input id="gameAccInput4" class="form-control hidden" type="text" name="gameAccountName" placeholder="Game account name ..." required>
                                            </form>
                                        </div>
                                        <div class="mx-1">
                                            <form action="DeleteCartController" method="post" onsubmit="return confirm('Are you sure you want to remove this item from cart? ')">
                                                <input type="text" name="id" value="4" hidden=""/>
                                                <button type="submit"  class="btn item-card-button red-button">
                                                    <h5 class="card-title ps-1">Remove</h5>
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    
                        
                        <!-- Item Card -->
                        <div class="sell-card mb-3" id="sell-card">
                            <div class="row g-0">
                                <div class="col-md-2">
                                    <img src="UI/image/P2000_Acid Etched.png" class="img-fluid rounded" alt="...">
                                </div>
                                <div class="col-md-6">
                                    <div class="card-body">
                                        <h5 class="card-title mb-2">Pistol | P2000 Acid Etched (Factory New)
                                        </h5>
                                        <p class="card-text mb-1">Selling price: 8000.0</p>
                                        <p class="card-text mb-1">Time Left: <p id="countdown4"></p></p>
                                          
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="row nopadding">
                                        <div class="mx-1 my-3">
                                            <form action="ProcessCartController" method="post" onsubmit="return confirm('Are you sure you want to buy only this item from cart? ')">
                                                <input type="text" name="cartId" value="5" hidden=""/>
                                                <button onclick="showGameAccInput(5)" type="submit" class="btn item-card-button ">
                                                    <h5 class="card-title ps-1">Buy</h5>
                                                </button>
                                                <input id="gameAccInput5" class="form-control hidden" type="text" name="gameAccountName" placeholder="Game account name ..." required>
                                            </form>
                                        </div>
                                        <div class="mx-1">
                                            <form action="DeleteCartController" method="post" onsubmit="return confirm('Are you sure you want to remove this item from cart? ')">
                                                <input type="text" name="id" value="5" hidden=""/>
                                                <button type="submit"  class="btn item-card-button red-button">
                                                    <h5 class="card-title ps-1">Remove</h5>
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    
                </div>
            </div>
            
                <div class="row">
                    <h4 class="card-title text-end">The total amount in your cart: 30000.0 $</h4>
                    <form class="d-flex justify-content-end" action="ProcessCartController" method="post" onsubmit="return confirm('Are you sure you want to buy all item(s) from cart? ')">
                        <input class="form-control w-25 me-3" type="text"  placeholder="Game acount name..."name="gameAccountName" required="">    
                        <button type="submit" class="btn item-card-button w-25">
                            <h5 class="card-title item-card-price ps-1">Buy All</h5>
                        </button>
                    </form>
                </div>
            
        </div>

        <!-- Link Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous">
        </script>
        <script>
            function showGameAccInput(cartItemId) {
                var element = document.getElementById("gameAccInput" + cartItemId);
                if (element) {
                    var input = Array.from(element.classList);
                    if (input.includes("hidden")) {
                        element.classList.remove("hidden");
                        console.log(element.classList);
                    } else {
                        element.classList.add("hidden");
                        console.log(element.classList);
                    }
                }
            }
        </script>
        
        <script>
            // Define the countdown details for each timer
            var countdowns = [
            
            {name: "countdown0", endDate: "2023-09-01T00:00"}
                
            ,
                
            
            {name: "countdown1", endDate: "2023-09-01T00:00"}
                
            ,
                
            
            {name: "countdown2", endDate: "2023-09-01T00:00"}
                
            ,
                
            
            {name: "countdown3", endDate: "2023-09-01T00:00"}
                
            ,
                
            
            {name: "countdown4", endDate: "2023-09-01T00:00"}
                
            
            ];
            // Update all countdowns
            function updateCountdowns() {
                countdowns.forEach(function (countdown) {
                    var endDate = new Date(countdown.endDate);

                    var now = new Date();
                    var distance = endDate.getTime() - now.getTime();

                    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    var countdownElement = document.getElementById(countdown.name);
                    countdownElement.innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                    // If the countdown is finished, update the HTML element
                    if (distance < 0) {
                        countdownElement.innerHTML = countdown.name + ": EXPIRED";
                    }
                });
            }

            // Update countdowns every 1 second
            var countdownInterval = setInterval(updateCountdowns, 1000);

            // Call updateCountdowns once immediately to display the initial countdowns
            updateCountdowns();
        </script>
    </body>

</html>
